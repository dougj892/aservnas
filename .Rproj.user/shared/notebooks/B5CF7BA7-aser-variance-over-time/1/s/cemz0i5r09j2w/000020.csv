"0","# Create dataset with appropriate lags"
"0","lags <- states %>% "
"0","  group_by(state_abbr) %>% "
"0","  mutate(read3_lag2 = lag(std3_read_std1_all, n = 2, order_by = year),"
"0","        read3_lag3 = lag(std3_read_std1_all, n = 3, order_by = year),"
"0","        read5_lag1 = lag(std5_read_std2_all, n = 1, order_by = year),"
"0","        delta_read3_lag2 = read3_lag2-read3_lag3,"
"0","        delta_read5 = std5_read_std2_all-read5_lag1,"
"0","        math3_lag2 = lag(std3_subtract_all, n = 2, order_by = year),"
"0","        math3_lag3 = lag(std3_subtract_all, n = 3, order_by = year),"
"0","        math5_lag1 = lag(std5_divis_all, n = 1, order_by = year),"
"0","        delta_math3_lag2 = math3_lag2 - math3_lag3,"
"0","        delta_math5 =std5_divis_all-math5_lag1) "
"0",""
"0","fit_read <- lm(delta_read5 ~  delta_read3_lag2 - 1, lags)"
"0","summary(fit_read)"
"1","
Call:
"
"1",""
"1","lm(formula = delta_read5 ~ delta_read3_lag2 - 1, data = lags)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","      Min "
"1","       1Q "
"1","   Median "
"1","       3Q "
"1","      Max "
"1","
"
"1","-0.202025 "
"1","-0.049925 "
"1","-0.006036 "
"1"," 0.034492 "
"1"," 0.151110 "
"1","
"
"1","
Coefficients:
"
"1","                "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","
delta_read3_lag2"
"1"," -0.03579"
"1","    0.06347"
"1","  -0.564"
"1","    0.574"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","0.06898"
"1"," "
"1","on"
"1"," "
"1","174"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","119 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.001824"
"1",",	Adjusted R-squared: "
"1"," "
"1","-0.003912"
"1"," "
"1","
F-statistic:"
"1"," "
"1","0.318"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","174"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","0.5735"
"1","
"
"1","
"
"0","fit_math <- lm(delta_math5 ~ delta_math3_lag2 - 1, lags)"
"0","summary(fit_math)"
"1","
Call:
"
"1",""
"1","lm(formula = delta_math5 ~ delta_math3_lag2 - 1, data = lags)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","     Min "
"1","      1Q "
"1","  Median "
"1","      3Q "
"1","     Max "
"1","
"
"1","-0.30503 "
"1","-0.05673 "
"1","-0.01062 "
"1"," 0.01928 "
"1"," 0.19508 "
"1","
"
"1","
Coefficients:
"
"1","                "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","
delta_math3_lag2"
"1"," -0.04451"
"1","    0.06911"
"1","  -0.644"
"1","     0.52"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","0.08032"
"1"," "
"1","on"
"1"," "
"1","151"
"1"," "
"1","degrees of freedom"
"1","
"
"1","  ("
"1",""
"1","142 observations deleted due to missingness"
"1",""
"1",")
"
"1","Multiple R-squared: "
"1"," "
"1","0.00274"
"1",",	Adjusted R-squared: "
"1"," "
"1","-0.003865"
"1"," "
"1","
F-statistic:"
"1"," "
"1","0.4148"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","151"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","0.5205"
"1","
"
"1","
"
"0","write_csv(rbind(tidy(fit_read), tidy(fit_math)), file.path(output, ""cohort analysis.csv""))"
